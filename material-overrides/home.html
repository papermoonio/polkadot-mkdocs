{% extends "main.html" %}

{% block htmltitle %}
  <title>Polkadot Developer Docs</title>
{% endblock %}

{% block styles %}
	{{ super() }}
  <link rel="stylesheet" href="{{ 'assets/stylesheets/home.css' | url }}">
{% endblock %}

{%- block container -%} 
  {% block content %}
    <div class="home-container md-typeset">

      <section class="hero-section">
        <canvas id="grain-canvas" class="grain-canvas"></canvas>
        <div class="hero-content">
          <h1>Polkadot Documentation</h1>
          <p class="tagline">Everything you need to start building on Polkadot.</p>
          <div class="button-wrapper">
            <a href="smart-contracts/overview/">
              <button class="md-button">Start Building
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </button>
            </a>     
            <a href="smart-contracts/connect/">
              <button class="md-button secondary">Connect to Polkadot
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </button>
            </a>
          </div>
        </div>
      </section>

      <div class="md-grid column">
        <div class="feature-section">
          <div class="featured-content row">
            <div class="card column">
              <h3>Smart Contracts</h3>
              <a href="/smart-contracts/connect/">
                Connect to Polkadot
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
              <a href="/smart-contracts/cookbook/smart-contracts/deploy-basic/basic-remix/">
                Deploy a contract
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
              <a href="/smart-contracts/precompiles/">
                Leverage precompiled contracts
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
            </div>
            <div class="card column">
              <h3>Blockchains</h3>
              <a href="/parachains/install-polkadot-sdk/">
                Install the Polkadot SDK
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
              <a href="/parachains/launch-a-parachain/set-up-the-parachain-template/">
                Launch a simple blockchain
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
              <a href="/parachains/customize-runtime/">
                Customize your chain
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
              <a href="/parachains/runtime-maintenance/runtime-upgrades/">
                Upgrade your chain
                <span class="twemoji">
                  {% include ".icons/material/arrow-right.svg" %} 
                </span>
              </a>
            </div>
            <div class="card column">
              <h3>Developer Resources</h3>
              <a href="https://wiki.polkadot.com/general/grants/" target="_blank">
                Explore grants and funding opportunities
                <span class="twemoji">
                  {% include ".icons/material/arrow-top-right.svg" %} 
                </span>
              </a>
              <a href="https://polkadot.academy/" target="_blank">
                Discover the Polkadot Academy
                <span class="twemoji">
                  {% include ".icons/material/arrow-top-right.svg" %} 
                </span>
              </a>
              <a href="https://www.parity.io/bug-bounty" target="_blank">
                Report a bug via the bug bounty program
                <span class="twemoji">
                  {% include ".icons/material/arrow-top-right.svg" %} 
                </span>
              </a>
            </div>
          </div>
        </div>
      </div>

    </div>
  {% endblock %}
{%- endblock -%} 


{% block scripts %}
  {{ super() }}
  <script>
    const canvas = document.querySelector('.grain-canvas');
    const ctx = canvas.getContext('2d');

    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    let mouse = { x: width / 2, y: height / 2 };

    // Generate static grain
    function generateGrain() {
      const imgData = ctx.createImageData(width, height);
      const alpha = 35; // grain visibility

      for (let i = 0; i < imgData.data.length; i += 4) {
        const v = Math.random() * 255;
        imgData.data[i] = v;     // R
        imgData.data[i + 1] = v; // G
        imgData.data[i + 2] = v; // B
        imgData.data[i + 3] = alpha; // A
      }

      return imgData;
    }

    let grain = generateGrain();

    function draw() {
      ctx.clearRect(0, 0, width, height);

      // Draw grain
      ctx.putImageData(grain, 0, 0);

      // Spotlight always bright (white)
      const gradient = ctx.createRadialGradient(mouse.x, mouse.y, 0, mouse.x, mouse.y, 600);
      gradient.addColorStop(0, 'rgba(255,255,255,0.15)');
      gradient.addColorStop(1, 'rgba(255,255,255,0)');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, width, height);

      requestAnimationFrame(draw);
    }

    // Mouse tracking
    window.addEventListener('mousemove', e => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });

    // Resize handler
    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      grain = generateGrain();
    });

    draw();
  </script>
{% endblock %}
